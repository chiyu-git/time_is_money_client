(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/click.5630c2d1.mp3"},,,,,,function(e,n,t){e.exports=t.p+"static/media/alphabet.34963dd4.mp3"},function(e,n,t){e.exports=t.p+"static/media/ding.b9860fcb.mp3"},,,,function(e,n,t){e.exports=t(51)},,,,,,,,,function(e,n,t){var a=t(38);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,"html,\nbody,\n#root {\n  height: 100%;\n  overflow: hidden;\n}\n",""])},,function(e,n,t){var a=t(41);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,".n-back_container {\n  height: 100%;\n  position: relative;\n}\n",""])},function(e,n,t){var a=t(43);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,".n-back_header {\n  widows: 100%;\n  height: 2.5rem;\n  background: #19B4A2;\n  text-align: center;\n  line-height: 2.5rem;\n  color: white;\n}\n",""])},function(e,n,t){var a=t(45);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,".n-back_start_container {\n  position: absolute;\n  top: 2.5rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #faf7f9;\n}\n.n-back_start_container .n-back_play_info_container {\n  margin-top: 2.5rem;\n}\n.n-back_start_container .n-back_play_info_container .play_info {\n  position: relative;\n  width: 8rem;\n  height: 8rem;\n  margin: 0 auto;\n  border: 0.5rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 50% 50% 50% 50%;\n  text-align: center;\n}\n.n-back_start_container .n-back_play_info_container .play_info .play_level {\n  font-size: 1.75rem;\n  color: #19B4A2;\n  line-height: 8rem;\n}\n.n-back_start_container .n-back_play_info_container .play_info .play_times {\n  display: block;\n  position: relative;\n  top: -2.5rem;\n  font-size: 1rem;\n  color: rgba(100, 100, 100, 0.5);\n}\n.n-back_start_container .n-back_play_btn {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 2.5rem;\n  width: 4rem;\n  height: 4rem;\n  margin: 0 auto;\n  border: 0.125rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 50% 50% 50% 50%;\n  text-align: center;\n  line-height: 4rem;\n}\n.n-back_start_container .n-back_play_btn i {\n  font-size: 3rem;\n  color: #19B4A2;\n}\n.n-back_start_container .active {\n  background-color: rgba(100, 100, 100, 0.15);\n}\n",""])},function(e,n,t){var a=t(47);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,'.n-back_play_container {\n  position: absolute;\n  top: 2.5rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #faf7f9;\n}\n.n-back_play_container .n-back_sudoku_list {\n  width: 15.05rem;\n  margin: 2.5rem auto;\n}\n.n-back_play_container .n-back_sudoku_list:before,\n.n-back_play_container .n-back_sudoku_list:after {\n  content: " ";\n  display: table;\n}\n.n-back_play_container .n-back_sudoku_list:after {\n  clear: both;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item {\n  float: left;\n  width: 5rem;\n  height: 5rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(3n-1) {\n  border-right: 0.025rem solid white;\n  border-left: 0.025rem solid white;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(4),\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(5),\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(6) {\n  border-top: 0.025rem solid white;\n  border-bottom: 0.025rem solid white;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(1) {\n  border-top-left-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(3) {\n  border-top-right-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(7) {\n  border-bottom-left-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(9) {\n  border-bottom-right-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .touch_item {\n  background: #19B4A2;\n  transition: 1s background-color;\n}\n.n-back_play_container .n-back_sudoku_list .active {\n  background: #af0daf;\n}\n.n-back_play_container .n-back_console_btns {\n  position: absolute;\n  bottom: 0.25rem;\n  width: 100%;\n  font-size: 0;\n}\n.n-back_play_container .n-back_console_btns div {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 7.5rem;\n  height: 3rem;\n  border: 0.125rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 0.25rem;\n  background: white;\n  margin-left: 0.3333325rem;\n  text-align: center;\n  line-height: 3rem;\n  transition: 0.5s background-color;\n}\n.n-back_play_container .n-back_console_btns div i {\n  display: block;\n  width: 100%;\n  height: 100%;\n  font-size: 2.25rem;\n  color: #19B4A2;\n}\n.n-back_play_container .n-back_console_btns .active {\n  background-color: rgba(100, 100, 100, 0.15);\n}\n',""])},function(e,n,t){var a=t(49);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,'.n-back_result_container {\n  position: absolute;\n  top: 2.5rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #faf7f9;\n}\n.n-back_result_container .result_masking {\n  position: absolute;\n  top: -2.5rem;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  background: white;\n  display: -webkit-box;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  transition: opacity 1s ease, bottom 0.5s ease;\n}\n.n-back_result_container .result_masking div {\n  color: #19B4A2;\n  font-size: 1.75rem;\n  animation: enterAnime 1.5s ease forwards;\n}\n@keyframes enterAnime {\n  0% {\n    transform: scaleX(1);\n  }\n  25% {\n    transform: scaleX(1.5);\n  }\n  50% {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(-250px);\n    opacity: 0;\n  }\n}\n.n-back_result_container .result_detail {\n  position: relative;\n  margin: 1rem 0.5rem;\n  border: 0.05rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 0.125rem;\n  height: 7.5rem;\n}\n.n-back_result_container .result_detail .result_explanation {\n  position: absolute;\n  right: 0.1rem;\n  top: 0.1rem;\n  border: 0.025rem solid rgba(100, 100, 100, 0.15);\n}\n.n-back_result_container .result_detail .result_explanation .iconfont {\n  color: #19B4A2;\n  font-size: 1rem;\n}\n.n-back_result_container .result_detail .result_share {\n  position: absolute;\n  right: 0.1rem;\n  bottom: 0.1rem;\n  border: 0.025rem solid rgba(100, 100, 100, 0.15);\n}\n.n-back_result_container .result_detail .result_share .iconfont {\n  color: #19B4A2;\n  font-size: 1rem;\n}\n.n-back_result_container .result_detail .result_list:before,\n.n-back_result_container .result_detail .result_list:after {\n  content: " ";\n  display: table;\n}\n.n-back_result_container .result_detail .result_list:after {\n  clear: both;\n}\n.n-back_result_container .result_detail .result_list .result_item {\n  float: left;\n  width: 7rem;\n  margin-left: 0.375rem;\n}\n.n-back_result_container .result_detail .result_list .result_correct .iconfont {\n  color: #19B4A2;\n  font-size: 3rem;\n}\n.n-back_result_container .result_detail .result_list .result_correct span {\n  font-size: 1.5rem;\n  color: #19B4A2;\n  vertical-align: 0.5rem;\n}\n.n-back_result_container .result_detail .result_list .result_mistake {\n  position: relative;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .iconfont {\n  color: #19B4A2;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .icon-eye {\n  margin-left: 0.25rem;\n  font-size: 2.25rem;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .icon-ear {\n  margin-left: 0.25rem;\n  font-size: 2.25rem;\n}\n.n-back_result_container .result_detail .result_list .result_mistake span {\n  font-size: 1rem;\n  vertical-align: 0.5rem;\n  margin-left: 0.5rem;\n  color: #ffd208;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .eye {\n  position: absolute;\n  font-size: 1rem;\n  left: 1.5rem;\n  bottom: 0.1rem;\n  background: white;\n  border: 1px solid white;\n  border-radius: 50% 50%;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .ear {\n  position: absolute;\n  font-size: 1rem;\n  left: 1.2rem;\n  bottom: 0.1rem;\n  background: white;\n  border: 1px solid white;\n  border-radius: 50% 50%;\n}\n.n-back_result_container .play_again_container {\n  position: relative;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 16.5rem;\n}\n.n-back_result_container .play_again_container .n-back_start_container {\n  top: 0;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container {\n  margin-top: 0;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container .play_info {\n  width: 6.75rem;\n  height: 6.75rem;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container .play_info .play_level {\n  display: none;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container .play_info .play_times {\n  display: inline;\n  position: static;\n  font-size: 1.25rem;\n  line-height: 6.75rem;\n}\n',""])},,function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(21),l=t.n(i),o=t(6),c=(t(37),t(53)),s=t(55),u=t(56),m=t(54);t(40),t(42);var _=Object(o.b)(function(e){return{playLevelArr:e.playInfo.playLevelArr}},{})(function(e){return r.a.createElement("header",{className:"n-back_header"},"DUAL N-BACK N=",e.playLevelArr[1])}),p=t(52),d=t(5),b="update_play_result_list",f="update_play_level",h="update_play_time",k=function(e){return localStorage.setItem("playResultList",JSON.stringify(e)),{type:b,data:e}},y=function(e){return localStorage.setItem("playLevelArr",JSON.stringify(e)),{type:f,data:e}},v=function(e){return localStorage.setItem("playTime",JSON.stringify(e)),{type:h,data:e}};var g=Object(d.combineReducers)({playResultList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b:return n.data;default:return e}},playLevelArr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[3,3],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return console.log("playLevel:".concat(n.data[1])),n.data;default:return e}},playTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case h:return n.data;default:return e}}});t(44);var E=Object(o.b)(function(e){return{playTime:e.playInfo.playTime,playLevelArr:e.playInfo.playLevelArr}},{updatePlayLevelArr:y,updatePlayResultList:k,updatePlayTime:v})(function(e){var n=Object(a.useRef)(null);return Object(a.useEffect)(function(){if("null"!==localStorage.getItem("playLevelArr")){var n=JSON.parse(localStorage.getItem("playResultList")),t=JSON.parse(localStorage.getItem("playLevelArr")),a=JSON.parse(localStorage.getItem("playTime"));e.updatePlayResultList(n),e.updatePlayLevelArr(t),e.updatePlayTime(a)}},[]),r.a.createElement("section",{className:"n-back_start_container"},r.a.createElement("div",{className:"n-back_play_info_container"},r.a.createElement("div",{className:"play_info"},r.a.createElement("span",{className:"play_level"},"N=",e.playLevelArr[1]),r.a.createElement("span",{className:"play_times"},"".concat(e.playTime,"/20")))),r.a.createElement("div",{className:"n-back_play_btn",onTouchStart:function(t){n.current.classList.add("active"),e.history.push("play")},ref:n},r.a.createElement(p.a,{to:"/play"},r.a.createElement("i",{className:"iconfont icon-play"}))))}),N=t(13),M=t(18),w=t(8);t(46);var L=t(17),O=t.n(L),j=t(23),A=t.n(j);var x=Object(o.b)(function(e){return{playResultList:e.playInfo.playResultList,playLevelArr:e.playInfo.playLevelArr,playTime:e.playInfo.playTime}},{updatePlayResultList:k,updatePlayTime:v,updatePlayLevelArr:y})(function(e){var n=5,t=Object(a.useState)(e.playLevelArr[1]),i=Object(w.a)(t,1)[0],l=Object(a.useState)({type:"aural",arr:[],matchTime:0,isMatching:!1,matchCorrect:0,matchMistake:0,isBtnDown:!1}),o=Object(w.a)(l,2),c=o[0],s=o[1],u=Object(a.useState)({type:"visual",arr:[],matchTime:0,isMatching:!1,matchCorrect:0,matchMistake:0,isBtnDown:!1}),m=Object(w.a)(u,2),_=m[0],p=m[1],d=Object(a.useState)(1e3),b=Object(w.a)(d,2),f=b[0],h=b[1],k=Object(a.useRef)(null),y=Object(a.useRef)(null),v=Object(a.useRef)(null),g=Object(a.useRef)(null),E=Object(a.useRef)(null),L=Object(a.useRef)(null),j=function(e,n,t){var a=t||window.event,r=e.isMatching,i=e.isBtnDown,l=e.matchCorrect,o=e.matchMistake;i||(a.target.parentNode.classList.add("active"),i=!0,"visual"===e.type?g.current.play():E.current.play(),r?l++:o++,n(Object(M.a)({},e,{isMatching:r,isBtnDown:i,matchCorrect:l,matchMistake:o})))};Object(a.useEffect)(function(){setTimeout(function(){h(3e3)},1e3)},[]);var x=function(e,n){var t=Object(a.useRef)();Object(a.useEffect)(function(){t.current=e}),Object(a.useEffect)(function(){if(null!==n){var e=setInterval(function(){t.current()},n);return function(){return clearInterval(e)}}},[n])}(function(){if(_.matchTime>n-1&&c.matchTime>n-1){clearInterval(x);var t={visualMatchCorrect:_.matchCorrect,visualMatchMistake:_.matchMistake,visualMatchMiss:n-_.matchCorrect,auralMatchCorrect:c.matchCorrect,auralMatchMistake:c.matchMistake,auralMatchMiss:n-c.matchCorrect},a=e.playResultList,r=e.playTime;R(a,t,i,r),e.history.push("/result")}else T()},f),T=function(){var e=I(c,s),n=I(_,p);k.current.classList.remove("active"),y.current.classList.remove("active"),L.current.currentTime=e,L.current.play(),setTimeout(function(){L.current.pause()},800),v.current.children[n].classList.add("active"),setTimeout(function(){v.current.children[n].classList.remove("active")},1e3)},I=function(e,t){var a=e.arr,r=e.matchTime,l=e.isMatching,o=(e.isBtnDown,Math.round(8*Math.random()));return 4===o&&(o=8),a.length===i&&(1===Math.round(2*Math.random())&&(o=a[0]),o===a[0]?r<n?(console.log("".concat(e.type,"MatchTime:").concat(r)),r++,l=!0):o<3?o++:o>5?o--:o+=2:o!==a[0]&&(l=!1),a.shift()),a=[].concat(Object(N.a)(a),[o]),t(Object(M.a)({},e,{arr:a,matchTime:r,isMatching:l,isBtnDown:!1})),o},R=function(t,a,r,i){var l=r,o=function(e,t){return e.length<n?[].concat(Object(N.a)(e),[t]):[].concat(Object(N.a)(e.shift()),[t])}(t,a),c=o.reduce(function(e,n){return e+n.visualMatchCorrect+n.auralMatchCorrect},0),s=o.reduce(function(e,n){return e+n.visualMatchMistake+n.visualMatchMiss+n.auralMatchMistake+n.auralMatchMiss},0);console.log(c),console.log(s);var u=c/(o.length*n*2+s);console.log(u),u>.8&&l++,e.updatePlayLevelArr([r,l]),e.updatePlayResultList(o),e.updatePlayTime(i+1)};return r.a.createElement("section",{className:"n-back_play_container"},r.a.createElement("audio",{src:O.a,ref:g,preload:"auto"}),r.a.createElement("audio",{src:O.a,ref:E,preload:"auto"}),r.a.createElement("audio",{src:A.a,ref:L,preload:"auto"}),r.a.createElement("ul",{className:"n-back_sudoku_list",ref:v},[1,2,3,4,5,6,7,8,9].map(function(e){return r.a.createElement("li",{className:"sudoku_item ".concat(5===e?"":"touch_item"),key:e})})),r.a.createElement("div",{className:"n-back_console_btns"},r.a.createElement("div",{className:"visual_btn",ref:k},r.a.createElement("i",{className:"iconfont icon-eye",onTouchStart:function(e){j(_,p,e)}})),r.a.createElement("div",{className:"aural_btn",ref:y},r.a.createElement("i",{className:"iconfont icon-ear",onTouchStart:function(e){j(c,s,e)}}))))}),T=(t(48),t(24)),I=t.n(T);var R=Object(o.b)(function(e){return{playResult:e.playInfo.playResultList,playLevelArr:e.playInfo.playLevelArr}},{})(function(e){var n=Object(a.useRef)(null),t=Object(a.useRef)(null),i=e.playResult,l=i[i.length-1],o=Object(w.a)(e.playLevelArr,2),c=o[0],s=o[1];return console.log(e.playLevelArr),Object(a.useEffect)(function(){function e(){n.current.parentNode.style.opacity="0"}function a(){n.current.parentNode.style.display="none"}return c!==s&&setTimeout(function(){t.current.play(),n.current.innerHTML="N=".concat(s)},200),n.current.addEventListener("animationend",e),n.current.parentNode.addEventListener("transitionend",a),function(){n.current.removeEventListener("animationend",e),n.current.parentNode.removeEventListener("transitionend",a)}}),r.a.createElement("section",{className:"n-back_result_container"},r.a.createElement("div",{className:"result_masking"},r.a.createElement("div",{className:"level",ref:n},"N=",c),r.a.createElement("audio",{src:I.a,ref:t,preload:"auto"})),r.a.createElement("div",{className:"result_detail"},r.a.createElement("span",{className:"result_explanation"},r.a.createElement("i",{className:"iconfont icon-query"})),r.a.createElement("span",{className:"result_share"},r.a.createElement("i",{className:"iconfont icon-share"})),r.a.createElement("ul",{className:"result_list"},r.a.createElement("li",{className:"result_item result_correct"},r.a.createElement("i",{className:"iconfont icon-eye"}),r.a.createElement("span",null,l.visualMatchCorrect)),r.a.createElement("li",{className:"result_item result_correct"},r.a.createElement("i",{className:"iconfont icon-ear"}),r.a.createElement("span",null,l.auralMatchCorrect)),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-eye"}),r.a.createElement("span",null,l.visualMatchMiss),r.a.createElement("i",{className:"iconfont icon-minus eye"})),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-ear"}),r.a.createElement("span",null,l.auralMatchMiss),r.a.createElement("i",{className:"iconfont icon-minus ear"})),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-eye"}),r.a.createElement("span",null,l.visualMatchMistake),r.a.createElement("i",{className:"iconfont icon-plus eye"})),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-ear"}),r.a.createElement("span",null,l.auralMatchMistake),r.a.createElement("i",{className:"iconfont icon-plus ear"})))),r.a.createElement("div",{className:"play_again_container"},r.a.createElement(E,{history:e.history})))});var S=function(){return r.a.createElement("div",{className:"n-back_container"},r.a.createElement(_,null),r.a.createElement(c.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{exact:!0,path:"/start",component:E}),r.a.createElement(u.a,{path:"/play",component:x}),r.a.createElement(u.a,{path:"/result",component:R}),r.a.createElement(m.a,{path:"/",to:{pathname:"/start"}}))))},B=t(25),z=t(26),C=Object(d.combineReducers)({playInfo:g}),P=Object(d.createStore)(C,Object(z.composeWithDevTools)(Object(d.applyMiddleware)(B.a)));l.a.render(r.a.createElement(o.a,{store:P},r.a.createElement(S,null)),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.a8edf7ee.chunk.js.map
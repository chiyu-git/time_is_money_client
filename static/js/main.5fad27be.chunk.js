(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/click.5630c2d1.mp3"},,,,,,function(e,n,t){e.exports=t.p+"static/media/alphabet.34963dd4.mp3"},function(e,n,t){e.exports=t.p+"static/media/ding.b9860fcb.mp3"},,,,,function(e,n,t){e.exports=t(52)},,,,,,,,,function(e,n,t){var a=t(39);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,"html,\nbody,\n#root {\n  height: 100%;\n  overflow: hidden;\n}\n",""])},,function(e,n,t){var a=t(42);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,".n-back_container {\n  height: 100%;\n  position: relative;\n}\n",""])},function(e,n,t){var a=t(44);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,".n-back_header {\n  widows: 100%;\n  height: 2.5rem;\n  background: #19B4A2;\n  text-align: center;\n  line-height: 2.5rem;\n  color: white;\n}\n",""])},function(e,n,t){var a=t(46);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,".n-back_start_container {\n  position: absolute;\n  top: 2.5rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #faf7f9;\n}\n.n-back_start_container .n-back_play_info_container {\n  margin-top: 2.5rem;\n}\n.n-back_start_container .n-back_play_info_container .play_info {\n  position: relative;\n  width: 8rem;\n  height: 8rem;\n  margin: 0 auto;\n  border: 0.5rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 50% 50% 50% 50%;\n  text-align: center;\n}\n.n-back_start_container .n-back_play_info_container .play_info .play_level {\n  font-size: 1.75rem;\n  color: #19B4A2;\n  line-height: 8rem;\n}\n.n-back_start_container .n-back_play_info_container .play_info .play_times {\n  display: block;\n  position: relative;\n  top: -2.5rem;\n  font-size: 1rem;\n  color: rgba(100, 100, 100, 0.5);\n}\n.n-back_start_container .n-back_play_btn {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 2.5rem;\n  width: 4rem;\n  height: 4rem;\n  margin: 0 auto;\n  border: 0.125rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 50% 50% 50% 50%;\n  text-align: center;\n  line-height: 4rem;\n}\n.n-back_start_container .n-back_play_btn i {\n  font-size: 3rem;\n  color: #19B4A2;\n}\n.n-back_start_container .active {\n  background-color: rgba(100, 100, 100, 0.15);\n}\n",""])},,function(e,n,t){var a=t(49);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,'.n-back_play_container {\n  position: absolute;\n  top: 2.5rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #faf7f9;\n}\n.n-back_play_container .n-back_sudoku_list {\n  width: 15.05rem;\n  margin: 2.5rem auto;\n}\n.n-back_play_container .n-back_sudoku_list:before,\n.n-back_play_container .n-back_sudoku_list:after {\n  content: " ";\n  display: table;\n}\n.n-back_play_container .n-back_sudoku_list:after {\n  clear: both;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item {\n  float: left;\n  width: 5rem;\n  height: 5rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(3n-1) {\n  border-right: 0.025rem solid white;\n  border-left: 0.025rem solid white;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(4),\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(5),\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(6) {\n  border-top: 0.025rem solid white;\n  border-bottom: 0.025rem solid white;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(1) {\n  border-top-left-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(3) {\n  border-top-right-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(7) {\n  border-bottom-left-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .sudoku_item:nth-child(9) {\n  border-bottom-right-radius: 0.25rem;\n}\n.n-back_play_container .n-back_sudoku_list .touch_item {\n  background: #19B4A2;\n  transition: 1s background-color;\n}\n.n-back_play_container .n-back_sudoku_list .active {\n  background: #af0daf;\n}\n.n-back_play_container .n-back_console_btns {\n  position: absolute;\n  bottom: 0.25rem;\n  width: 100%;\n  font-size: 0;\n}\n.n-back_play_container .n-back_console_btns div {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 7.5rem;\n  height: 3rem;\n  border: 0.125rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 0.25rem;\n  background: white;\n  margin-left: 0.3333325rem;\n  text-align: center;\n  line-height: 3rem;\n  transition: 0.5s background-color;\n}\n.n-back_play_container .n-back_console_btns div i {\n  display: block;\n  width: 100%;\n  height: 100%;\n  font-size: 2.25rem;\n  color: #19B4A2;\n}\n.n-back_play_container .n-back_console_btns .active {\n  background-color: rgba(100, 100, 100, 0.15);\n}\n',""])},function(e,n,t){var a=t(51);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(10)(a,r);a.locals&&(e.exports=a.locals)},function(e,n,t){(e.exports=t(9)(!1)).push([e.i,'.n-back_result_container {\n  position: absolute;\n  top: 2.5rem;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #faf7f9;\n}\n.n-back_result_container .result_masking {\n  position: absolute;\n  top: -2.5rem;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  background: white;\n  display: -webkit-box;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  transition: opacity 1s ease, bottom 0.5s ease;\n}\n.n-back_result_container .result_masking div {\n  color: #19B4A2;\n  font-size: 1.75rem;\n  animation: enterAnime 1.5s ease forwards;\n}\n@keyframes enterAnime {\n  0% {\n    transform: scaleX(1);\n  }\n  25% {\n    transform: scaleX(1.5);\n  }\n  50% {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(-250px);\n    opacity: 0;\n  }\n}\n.n-back_result_container .result_detail {\n  position: relative;\n  margin: 1rem 0.5rem;\n  border: 0.05rem solid rgba(100, 100, 100, 0.15);\n  border-radius: 0.125rem;\n  height: 7.5rem;\n}\n.n-back_result_container .result_detail .result_explanation {\n  position: absolute;\n  right: 0.1rem;\n  top: 0.1rem;\n  border: 0.025rem solid rgba(100, 100, 100, 0.15);\n}\n.n-back_result_container .result_detail .result_explanation .iconfont {\n  color: #19B4A2;\n  font-size: 1rem;\n}\n.n-back_result_container .result_detail .result_share {\n  position: absolute;\n  right: 0.1rem;\n  bottom: 0.1rem;\n  border: 0.025rem solid rgba(100, 100, 100, 0.15);\n}\n.n-back_result_container .result_detail .result_share .iconfont {\n  color: #19B4A2;\n  font-size: 1rem;\n}\n.n-back_result_container .result_detail .result_list:before,\n.n-back_result_container .result_detail .result_list:after {\n  content: " ";\n  display: table;\n}\n.n-back_result_container .result_detail .result_list:after {\n  clear: both;\n}\n.n-back_result_container .result_detail .result_list .result_item {\n  float: left;\n  width: 7rem;\n  margin-left: 0.375rem;\n}\n.n-back_result_container .result_detail .result_list .result_correct .iconfont {\n  color: #19B4A2;\n  font-size: 3rem;\n}\n.n-back_result_container .result_detail .result_list .result_correct span {\n  font-size: 1.5rem;\n  color: #19B4A2;\n  vertical-align: 0.5rem;\n}\n.n-back_result_container .result_detail .result_list .result_mistake {\n  position: relative;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .iconfont {\n  color: #19B4A2;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .icon-eye {\n  margin-left: 0.25rem;\n  font-size: 2.25rem;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .icon-ear {\n  margin-left: 0.25rem;\n  font-size: 2.25rem;\n}\n.n-back_result_container .result_detail .result_list .result_mistake span {\n  font-size: 1rem;\n  vertical-align: 0.5rem;\n  margin-left: 0.5rem;\n  color: #ffd208;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .eye {\n  position: absolute;\n  font-size: 1rem;\n  left: 1.5rem;\n  bottom: 0.1rem;\n  background: white;\n  border: 1px solid white;\n  border-radius: 50% 50%;\n}\n.n-back_result_container .result_detail .result_list .result_mistake .ear {\n  position: absolute;\n  font-size: 1rem;\n  left: 1.2rem;\n  bottom: 0.1rem;\n  background: white;\n  border: 1px solid white;\n  border-radius: 50% 50%;\n}\n.n-back_result_container .play_again_container {\n  position: relative;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 16.5rem;\n}\n.n-back_result_container .play_again_container .n-back_start_container {\n  top: 0;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container {\n  margin-top: 0;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container .play_info {\n  width: 6.75rem;\n  height: 6.75rem;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container .play_info .play_level {\n  display: none;\n}\n.n-back_result_container .play_again_container .n-back_start_container .n-back_play_info_container .play_info .play_times {\n  display: inline;\n  position: static;\n  font-size: 1.25rem;\n  line-height: 6.75rem;\n}\n',""])},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(21),c=t.n(i),o=t(6),l=(t(38),t(53)),s=t(55),u=t(27),m=t(54);t(41),t(43);var _=Object(o.b)(function(e){return{playLevelArr:e.playInfo.playLevelArr}},{})(function(e){return r.a.createElement("header",{className:"n-back_header"},"DUAL N-BACK N=",e.playLevelArr[1])}),b=t(56);t(45);var p=Object(o.b)(function(e){return{playTime:e.playInfo.playTime,playLevelArr:e.playInfo.playLevelArr}},{})(function(e){var n=Object(a.useRef)(null);return r.a.createElement("section",{className:"n-back_start_container"},r.a.createElement("div",{className:"n-back_play_info_container"},r.a.createElement("div",{className:"play_info"},r.a.createElement("span",{className:"play_level"},"N=",e.playLevelArr[1]),r.a.createElement("span",{className:"play_times"},"".concat(e.playTime,"/20")))),r.a.createElement("div",{className:"n-back_play_btn",onTouchStart:function(e){n.current.classList.add("active")},ref:n},r.a.createElement(b.a,{to:"/play"},r.a.createElement("i",{className:"iconfont icon-play"}))))}),d=t(13),f=t(18),h=t(8);var k=t(5),y="update_play_result",v="update_play_level",g="increase_play_time";var E=Object(k.combineReducers)({playResultList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y:return n.data;default:return e}},playLevelArr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[3,3],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v:return console.log("playLevel:".concat(n.data[1])),n.data;default:return e}},playTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case g:return e+1;default:return e}}}),N=(t(48),t(17)),M=t.n(N),w=t(23),j=t.n(w);var O=Object(o.b)(function(e){return{playResultList:e.playInfo.playResultList,playLevelArr:e.playInfo.playLevelArr}},{updatePlayResultList:function(e){return{type:y,data:e}},increasePlayTime:function(){return{type:g}},updatePlayLevelArr:function(e){return{type:v,data:e}}})(function(e){var n=5,t=Object(a.useState)(e.playLevelArr[1]),i=Object(h.a)(t,1)[0],c=Object(a.useState)({type:"aural",arr:[],matchTime:0,isMatching:!1,matchCorrect:0,matchMistake:0,isBtnDown:!1}),o=Object(h.a)(c,2),l=o[0],s=o[1],u=Object(a.useState)({type:"visual",arr:[],matchTime:0,isMatching:!1,matchCorrect:0,matchMistake:0,isBtnDown:!1}),m=Object(h.a)(u,2),_=m[0],b=m[1],p=Object(a.useState)(1e3),k=Object(h.a)(p,2),y=k[0],v=k[1],g=Object(a.useRef)(null),E=Object(a.useRef)(null),N=Object(a.useRef)(null),w=Object(a.useRef)(null),O=Object(a.useRef)(null),L=Object(a.useRef)(null),x=function(e,n,t){var a=t||window.event,r=e.isMatching,i=e.isBtnDown,c=e.matchCorrect,o=e.matchMistake;i||(a.target.parentNode.classList.add("active"),i=!0,"visual"===e.type?w.current.play():O.current.play(),r?c++:o++,n(Object(f.a)({},e,{isMatching:r,isBtnDown:i,matchCorrect:c,matchMistake:o})))};Object(a.useEffect)(function(){setTimeout(function(){v(3e3)},1e3)},[]);var A=function(e,n){var t=Object(a.useRef)();Object(a.useEffect)(function(){t.current=e}),Object(a.useEffect)(function(){if(null!==n){var e=setInterval(function(){t.current()},n);return function(){return clearInterval(e)}}},[n])}(function(){if(_.matchTime>n-1&&l.matchTime>n-1){clearInterval(A);var t={visualMatchCorrect:_.matchCorrect,visualMatchMistake:_.matchMistake,visualMatchMiss:n-_.matchCorrect,auralMatchCorrect:l.matchCorrect,auralMatchMistake:l.matchMistake,auralMatchMiss:n-l.matchCorrect},a=e.playResultList;B(a,t,i),e.history.push("/result")}else T()},y),T=function(){var e=R(l,s),n=R(_,b);g.current.classList.remove("active"),E.current.classList.remove("active"),L.current.currentTime=e,L.current.play(),setTimeout(function(){L.current.pause()},800),N.current.children[n].classList.add("active"),setTimeout(function(){N.current.children[n].classList.remove("active")},1e3)},R=function(e,t){var a=e.arr,r=e.matchTime,c=e.isMatching,o=(e.isBtnDown,Math.round(8*Math.random()));return 4===o&&(o=8),a.length===i&&(1===Math.round(2*Math.random())&&(o=a[0]),o===a[0]?r<n?(console.log("".concat(e.type,"MatchTime:").concat(r)),r++,c=!0):o<3?o++:o>5?o--:o+=2:o!==a[0]&&(c=!1),a.shift()),a=[].concat(Object(d.a)(a),[o]),t(Object(f.a)({},e,{arr:a,matchTime:r,isMatching:c,isBtnDown:!1})),o},B=function(t,a,r){var i=r,c=function(e,t){return e.length<n?[].concat(Object(d.a)(e),[t]):[].concat(Object(d.a)(e.shift()),[t])}(t,a),o=c.reduce(function(e,n){return e+n.visualMatchCorrect+n.auralMatchCorrect},0),l=c.reduce(function(e,n){return e+n.visualMatchMistake+n.visualMatchMiss+n.auralMatchMistake+n.auralMatchMiss},0);console.log(o),console.log(l);var s=o/(c.length*n*2+l);console.log(s),s>.8&&i++,e.updatePlayLevelArr([r,i]),e.updatePlayResultList(c),e.increasePlayTime()};return r.a.createElement("section",{className:"n-back_play_container"},r.a.createElement("audio",{src:M.a,ref:w,preload:"auto"}),r.a.createElement("audio",{src:M.a,ref:O,preload:"auto"}),r.a.createElement("audio",{src:j.a,ref:L,preload:"auto"}),r.a.createElement("ul",{className:"n-back_sudoku_list",ref:N},[1,2,3,4,5,6,7,8,9].map(function(e){return r.a.createElement("li",{className:"sudoku_item ".concat(5===e?"":"touch_item"),key:e})})),r.a.createElement("div",{className:"n-back_console_btns"},r.a.createElement("div",{className:"visual_btn",ref:g},r.a.createElement("i",{className:"iconfont icon-eye",onTouchStart:function(e){x(_,b,e)}})),r.a.createElement("div",{className:"aural_btn",ref:E},r.a.createElement("i",{className:"iconfont icon-ear",onTouchStart:function(e){x(l,s,e)}}))))}),L=(t(50),t(24)),x=t.n(L);var A=Object(o.b)(function(e){return{playResult:e.playInfo.playResultList,playLevelArr:e.playInfo.playLevelArr}},{})(function(e){var n=Object(a.useRef)(null),t=Object(a.useRef)(null),i=e.playResult,c=i[i.length-1],o=Object(h.a)(e.playLevelArr,2),l=o[0],s=o[1];return console.log(e.playLevelArr),Object(a.useEffect)(function(){function e(){n.current.parentNode.style.opacity="0"}function a(){n.current.parentNode.style.display="none"}return l!==s&&setTimeout(function(){t.current.play(),n.current.innerHTML="N=".concat(s)},200),n.current.addEventListener("animationend",e),n.current.parentNode.addEventListener("transitionend",a),function(){n.current.removeEventListener("animationend",e),n.current.parentNode.removeEventListener("transitionend",a)}}),r.a.createElement("section",{className:"n-back_result_container"},r.a.createElement("div",{className:"result_masking"},r.a.createElement("div",{className:"level",ref:n},"N=",l),r.a.createElement("audio",{src:x.a,ref:t,preload:"auto"})),r.a.createElement("div",{className:"result_detail"},r.a.createElement("span",{className:"result_explanation"},r.a.createElement("i",{className:"iconfont icon-query"})),r.a.createElement("span",{className:"result_share"},r.a.createElement("i",{className:"iconfont icon-share"})),r.a.createElement("ul",{className:"result_list"},r.a.createElement("li",{className:"result_item result_correct"},r.a.createElement("i",{className:"iconfont icon-eye"}),r.a.createElement("span",null,c.visualMatchCorrect)),r.a.createElement("li",{className:"result_item result_correct"},r.a.createElement("i",{className:"iconfont icon-ear"}),r.a.createElement("span",null,c.auralMatchCorrect)),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-eye"}),r.a.createElement("span",null,c.visualMatchMiss),r.a.createElement("i",{className:"iconfont icon-minus eye"})),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-ear"}),r.a.createElement("span",null,c.auralMatchMiss),r.a.createElement("i",{className:"iconfont icon-minus ear"})),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-eye"}),r.a.createElement("span",null,c.visualMatchMistake),r.a.createElement("i",{className:"iconfont icon-plus eye"})),r.a.createElement("li",{className:"result_item result_mistake"},r.a.createElement("i",{className:"iconfont icon-ear"}),r.a.createElement("span",null,c.auralMatchMistake),r.a.createElement("i",{className:"iconfont icon-plus ear"})))),r.a.createElement("div",{className:"play_again_container"},r.a.createElement(p,null)))});var T=function(){return r.a.createElement("div",{className:"n-back_container"},r.a.createElement(_,null),r.a.createElement(l.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{exact:!0,path:"/start",component:p}),r.a.createElement(u.a,{path:"/play",component:O}),r.a.createElement(u.a,{path:"/result",component:A}),r.a.createElement(m.a,{path:"/",to:{pathname:"/start"}}))))},R=t(25),B=t(26),z=Object(k.combineReducers)({playInfo:E}),I=Object(k.createStore)(z,Object(B.composeWithDevTools)(Object(k.applyMiddleware)(R.a)));c.a.render(r.a.createElement(o.a,{store:I},r.a.createElement(T,null)),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.5fad27be.chunk.js.map